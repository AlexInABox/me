<!DOCTYPE html>
<html>

<script type="text/javascript">
    var data;
    main();
    setInterval(function () { main() }, 5000);

    async function main() {
        data = await fetchData();
        await patchContent();
    }

    async function fetchData() {
        console.log("getting data");
        return new Promise((obj) => {
            fetch('./custom-hds/healthData.json')
                .then(res => res.json())
                .then(data => {
                    return obj(data)
                })
        })
    }

    async function patchContent() {
        console.log("patching content");
        document.getElementById("heartRate").innerHTML = data.heartRate;
        document.getElementById("oxygenSaturation").innerHTML = data.oxygenSaturation;
        document.getElementById("speed").innerHTML = data.speed;
    }
</script>


<head>
    <title>me, myself and I</title>
</head>

<body>
    <h1>Here goes all of my health data:</h1>
    <p>My current Heart Rate is: <span id="heartRate">0</span></p>
    <p>My current Blood oxygenSaturation is: <span id="oxygenSaturation">0</span></p>
    <p>My current Speed is: <span id="speed">0</span></p>

</body>

</html>